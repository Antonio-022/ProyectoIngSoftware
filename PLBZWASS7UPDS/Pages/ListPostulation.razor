@page "/ListPostulation"
<PageTitle>Lista de postulantes</PageTitle>
<h3 class="text-center"> Lista de postulantes</h3>

<div class="mr-3 pr-sm-0 pr-md-3 pr-0 mt-3">
    <div class="container" >
        <div class="row">
            <div class="col-xs-12">
                <table id="table_id" class="table  table-postulation display responsive nowrap table-borderless" style="width:100%">
                    <thead>
                        <tr>
                            <th>Codigo</th>
                            <th>Nombre</th>
                            <th>Curso</th>
                            <th>Estado</th>
                            <th class="col-1">Accion</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <th>2</th>
                            <td>Jacob</td>
                            <td>4to. Secundaria</td>
                            <td>
                                <LabelsStatus tipo="1" txt="Aceptada"></LabelsStatus>
                            </td>
                            <td>
                                <button class="btn btn-primary w-100" @onclick="()=>{modal.AbrirModal().GetAwaiter();}">
                                    <i class="bi bi-pencil"></i>
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <th>3</th>
                            <td>Mark</td>
                            <td>4to. Secundaria</td>
                            <td>
                                <LabelsStatus tipo="1" txt="Pendiente"></LabelsStatus>
                            </td>
                            <td>
                                <button class="btn btn-primary w-100" @onclick="()=>{modal.AbrirModal().GetAwaiter();}">
                                    <i class="bi bi-pencil"></i>
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <th>4</th>
                            <td>Larry the Bird</td>
                            <td>4to. Secundaria</td>
                            <td>
                                <LabelsStatus tipo="1" txt="Pendiente"></LabelsStatus>
                            </td>
                            <td>
                                <div class="btn-group dropstart w-100">
                                    <button type="button" class="btn btn-primary " data-bs-toggle="dropdown" aria-expanded="false">
                                        <i class="bi bi-pencil"></i>
                                    </button>
                                    <ul class="dropdown-menu" style="background-color:var(--bg-color);">

                                        <li><a class="dropdown-item itemlst" style="color:var(--fg-color) " @onclick='()=>{navigation.NavigateTo("/Familiares");}'>Familiares</a></li>

                                    </ul>
                                </div>
                            </td>
                        </tr>

                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>


<Modal @ref="modalMain" id="listaFamiliar" sizeModal="SizeModal.large" titulo="Familiares">
   
</Modal>
<Modal @ref="modal" sizeModal="SizeModal.large">
    <CreatePerson></CreatePerson>
</Modal>
@code {

    Modal? modal;
    Modal? modalMain;
    private ExampleDTO exampleModel = new();
    [Inject]
    IDataTable dataTable { get; set; }
    [Inject]
    NavigationManager navigation { get; set; }
    public void OnValidSubmit()
    {
    }




    protected override async Task OnInitializedAsync()
    {
        await DataTableenabled();
        Console.WriteLine("iasid");
    }
    public async Task DataTableenabled()
    {
        List<Columdef> columdef = new(){
             new Columdef()
             {
                 responsivePriority = 1,
                 targets = 0
             },
                new Columdef()
             {
                 responsivePriority = 1,
                 targets = 1
             },
              new Columdef()
             {
                 responsivePriority = 10001,
                 targets = 3
             },
              new Columdef()
             {
                 responsivePriority = 10001,
                 targets = 2
             }
        };
        await dataTable.Init("#table_id", columdef, true, false, false, false, false);
     
    }
    public void Dispose()
    {

        dataTable.Destroy("#table_id");
    }

}
